# janggi
장기

## 프로젝트 소개
콘솔로 장기를 구현한 프로젝트로, 
장기의 기본적인 룰을 알맞게 추상화하여 구현하고자 했습니다.
그리고, 전체적인 기능들이 테스트 커버리지를 100%로 맞추도록 했습니다.

## 기능 목록

1. 게임 시작
    - [x] 보드 생성
        1. [X] 각 팀의 포메이션 선택 
        2. [X] 초나라/한나라로 고정/유동 기물 생성
        3. [X] 초나라 턴으로 지정

2. 게임 진행 (반복)
    1. [X] 보드 기물 출력
    2. [X] 기물 선택
         1. [X] 위치 Input 받기 예 ) A1
         2. [X] 기물 검증
             - [X] 해당 위치가 보드 범위에 있는지
             - [X] 해당 위치에 기물이 있는지
             - [X] 해당 기물이 현재 턴인 팀 기물인지
             - [X] 해당 기물이 이동 가능한 위치가 한 개 이상인지
    3. [X] 기물 이동
          1.[X] 기물 이동 위치 Input 받기 예 ) B2
          2.[X] 이동 위치 검증
              - [X] 해당 위치가 보드 범위에 있는지
              - [X] 해당 위치가 현재 기물이 이동 가능한 위치인지
              - [X] 해당 위치에 기물이 있을 경우 적 팀 기물인지
              - [X] 해당 위치에 적 팀 기물이 있다면 제거 후 자리 차지
    4. [X] 턴 변경
    5. [X] 게임 종료 조건 확인
       - [X] 왕이 죽으면 패배
        




### 프로젝트 후기
이번 프로젝트를 진행하며 테스트 커버리지가 높을 때, 과감한 리팩토링이 가능하다는 것을 느꼈습니다.

첫 구현 시, 편의를 위해 Direction 클래스의 일급 컬렉션인 Movement 클래스 까지 작성하고, 
기물이 여러가지 Movement List를 가질 수 있음에도, Movements 일급 컬렉션을 만들지 않아 
Movement 에 List<Movement> 를 정적 생성자로 가지는 부분을 또 일급 컬렉션 형식으로 과감히 리팩토링을 시도했습니다.
소스의 구조가 크게 바뀌면서, 테스트 커버리지를 높여 놓았기 때문에, 진행하면서 놓치는 부분들을 빠르게 찾아낼 수 있었습니다.

그리고, 차의 대각선 이동 규칙이 구현되어 있지 않아 나중에 해당 기능을 추가할 때 역시 기존 기능을 크게 신경쓰지 않고,
문제가 생기더라도 바로 테스트에서 파악이 가능해서 구조 확장에 큰 도움이 되었습니다.

